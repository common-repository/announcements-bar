<?php
	// getting options value to fill form content
	$topbarEnabled = get_option(wico_annbar_consts_opt_topbar_enabled, '0');
	$topbarContent = get_option(wico_annbar_consts_opt_topbar_content, 'A Special Discount is Available');
	$topbarBgColor = get_option(wico_annbar_consts_opt_topbar_color_bg, 'blue');
	$topbarTextColor = get_option(wico_annbar_consts_opt_topbar_color_text, 'white');
	$topbarPosition = get_option(wico_annbar_consts_opt_topbar_position, 'top_normal');
	$topbarDisplayButton = get_option(wico_annbar_consts_opt_topbar_display_button, '0');
	$topbarButtonBgColor = get_option(wico_annbar_consts_opt_topbar_button_bg, 'green');
	$topbarButtonFgColor = get_option(wico_annbar_consts_opt_topbar_button_fg, 'white');
	$topbarButtonBorderColor = get_option(wico_annbar_consts_opt_topbar_button_bordercol, 'darkgreen');
	$topbarButtonText = get_option(wico_annbar_consts_opt_topbar_button_text, '');
	$topbarButtonUrl = get_option(wico_annbar_consts_opt_topbar_button_link, '');
	$topbarCloseButton = get_option(wico_annbar_consts_opt_topbar_close_button, '0');
	$topbarShowOnPages = get_option(wico_annbar_consts_opt_topbar_show_on_pages, 'home');
	$topbarShowOnPagesList = get_option(wico_annbar_consts_opt_topbar_show_on_pages_list, '');
	$topbarStylePaddingTop = get_option(wico_annbar_consts_opt_topbar_style_padding_top, '');
	$topbarStylePaddingBottom = get_option(wico_annbar_consts_opt_topbar_style_padding_bottom, '');
	$topbarStyleFontSize = get_option(wico_annbar_consts_opt_topbar_style_padding_font_size, '');
	$topbarStyleFontFace = get_option(wico_annbar_consts_opt_topbar_style_padding_font_face, '');
	$topbarCustomCss = get_option(wico_annbar_consts_opt_topbar_css_custom, '');

	// premium content enabled
	global $wico_annbar_premium_enabled_main;
?>
<script>
	// gets some value via php into js
	var wico_annbar_premium_enabled_main = <?php echo($wico_annbar_premium_enabled_main); ?>;
</script>
<div class="wico-reset container wico-container-splah-page">
    <h4 class='title is-4'>Announcements and News Configuration</h4><div class="tabs is-toggle wico-tabs">
    <ul>
        <li onclick="wico_annbar_navtab_main_navigate('main');" id="navtab_main_tab_main"  class='is-active' ><a><img src='<?php echo(wico_annbar_consts_pluginUrl); ?>//wicore//images//icon-settings.png' class='wico-tabs-icon' /><span>Basic Settings</span></a></li><li onclick="wico_annbar_navtab_main_navigate('behaviour');" id="navtab_main_tab_behaviour" ><a><img src='<?php echo(wico_annbar_consts_pluginUrl); ?>//wicore//images//icon-window.png' class='wico-tabs-icon' /><span>Behaviour</span></a></li><li onclick="wico_annbar_navtab_main_navigate('button');" id="navtab_main_tab_button" ><a><img src='<?php echo(wico_annbar_consts_pluginUrl); ?>//wicore//images//icon-flash.png' class='wico-tabs-icon' /><span>Action Button</span></a></li><li onclick="wico_annbar_navtab_main_navigate('pages');" id="navtab_main_tab_pages" ><a><img src='<?php echo(wico_annbar_consts_pluginUrl); ?>//wicore//images//icon-pages.png' class='wico-tabs-icon' /><span>Show on Pages</span></a></li><li onclick="wico_annbar_navtab_main_navigate('adjust');" id="navtab_main_tab_adjust" ><a><img src='<?php echo(wico_annbar_consts_pluginUrl); ?>//wicore//images//icon-styles.png' class='wico-tabs-icon' /><span>Adjust Styles</span></a></li><li onclick="wico_annbar_navtab_main_navigate('css');" id="navtab_main_tab_css" ><a><img src='<?php echo(wico_annbar_consts_pluginUrl); ?>//wicore//images//icon-css.png' class='wico-tabs-icon' /><span>Custom CSS</span></a></li>
    </ul>
</div>
<div class='columns '  id='cols_main' > <div class='column is-8'><fieldset id='fieldset_wico_annbar_pagemain_ddl_display_bar' class='wico-fieldset'  > <div class='field'>   <label class='label wico-label'>Display Announcements Top Bar?</label>   <div class='control'>       <select class='input wico-select' id='wico_annbar_pagemain_ddl_display_bar'>           <option value='1' <?php if ($topbarEnabled == '1') { echo(' selected '); } ?>>Yes, show the Annourcements Bar</option>           <option value='0' <?php if ($topbarEnabled == '0') { echo(' selected '); } ?>>No, do NOT show the Announcements Bar</option>       </select>   </div>   <p class='help'>Set whether you would like to display the Announcements Bar or not.</p></div></fieldset><fieldset id='fieldset_wico_annbar_pagemain_txt_content' class='wico-fieldset'  > <div class='field'>   <label class='label wico-label'>Announcement Bar Text</label>   <div class='control'>       <input class='input' type='text' placeholder='Type here what the text of your announcement' id='wico_annbar_pagemain_txt_content'  value='<?php echo($topbarContent); ?>' >    </div>   <p class='help'>This content will be shown in the top bar. Type your news or message for your visitors!</p></div></fieldset><div class='columns '  id='' > <div class='column is-3'><fieldset id='fieldset_wico_annbar_pagecolors_txt_backgroundcolor' class='wico-fieldset'  > <div class='field'>   <label class='label wico-label'>Background bar color</label>   <div class='control'>       <input class='input' type='text' placeholder='' id='wico_annbar_pagecolors_txt_backgroundcolor'  value='<?php echo($topbarBgColor); ?>' >    </div><script>jQuery(document).ready(function (){ jQuery('#wico_annbar_pagecolors_txt_backgroundcolor').wpColorPicker(); });</script>   <p class='help'>Select the background color for the top bar.</p></div></fieldset></div><div class='column is-3'><fieldset id='fieldset_wico_annbar_pagecolors_txt_forecolor' class='wico-fieldset'  > <div class='field'>   <label class='label wico-label'>Text color</label>   <div class='control'>       <input class='input' type='text' placeholder='' id='wico_annbar_pagecolors_txt_forecolor'  value='<?php echo($topbarTextColor); ?>' >    </div><script>jQuery(document).ready(function (){ jQuery('#wico_annbar_pagecolors_txt_forecolor').wpColorPicker(); });</script>   <p class='help'>Select the color for the bar text.</p></div></fieldset></div><div class='column is-6'></div></div></div><div class='column is-4'></div></div><div class='columns '  style='display:none;'  id='cols_behaviour' > <div class='column is-8'><fieldset id='fieldset_wico_annbar_pagebehaviour_ddl_position' class='wico-fieldset'  > <div class='field'>   <label class='label wico-label'>Announcement Bar Position</label>   <div class='control'>       <select class='input wico-select' id='wico_annbar_pagebehaviour_ddl_position'>           <option value='top_normal' <?php if ($topbarPosition == 'top_normal') { echo(' selected '); } ?>>Show on Top (normal)</option>           <option value='top_sticky' <?php if ($topbarPosition == 'top_sticky') { echo(' selected '); } ?>>Show on Top (sticky)</option>           <option value='bottom_normal' <?php if ($topbarPosition == 'bottom_normal') { echo(' selected '); } ?>>Show on Bottom (normal)</option>           <option value='bottom_sticky' <?php if ($topbarPosition == 'bottom_sticky') { echo(' selected '); } ?>>Show on Bottom (sticky)</option>       </select>   </div>   <p class='help'>Choose if you want the bar to be displayed on top or bottom, and if you want 'sticky' effect</p></div></fieldset><fieldset id='fieldset_wico_annbar_pagebehaviour_chk_closebutton' class='wico-fieldset' <?php    if ($wico_annbar_premium_enabled_main == 0) {        echo('disabled');    }?> > <div class='field'>   <label class='label wico-label'>Allow users to Close the Announcement Bar?</label><?php    if ($wico_annbar_premium_enabled_main == 0) {        $params = [];        $params['onclick_open_modal_id'] = 1;        $params['modal_id'] = 'wico_annbar_modal_premium';        echo( wico_annbar_wicore_business_common_show_premium_icon_near_label( $params ) );    }?>   <div class='control'>       <input class='input' type='checkbox' id='wico_annbar_pagebehaviour_chk_closebutton' <?php if ($topbarCloseButton == '1') { echo(' checked '); } ?>>        Allow users to Close the Announcement Bar, by displaying a close Icon   </div></div></fieldset></div><div class='column is-4'></div></div><div class='columns '  style='display:none;'  id='cols_button' > <div class='column is-8'><fieldset id='fieldset_wico_annbar_pagebutton_chk_enable' class='wico-fieldset'  > <div class='field'>   <label class='label wico-label'>Display action link Button?</label>   <div class='control'>       <input class='input' type='checkbox' id='wico_annbar_pagebutton_chk_enable' <?php if ($topbarDisplayButton == '1') { echo(' checked '); } ?>>        Select this box to display a button in the Announcement Bar   </div></div></fieldset><div class='columns wico-nomargin-bottom'  id='' > <div class='column is-'><fieldset id='fieldset_wico_annbar_pagebutton_txt_backgroundcolor' class='wico-fieldset'  > <div class='field'>   <label class='label wico-label'>Background Button Color</label>   <div class='control'>       <input class='input' type='text' placeholder='' id='wico_annbar_pagebutton_txt_backgroundcolor'  value='<?php echo($topbarButtonBgColor); ?>' >    </div><script>jQuery(document).ready(function (){ jQuery('#wico_annbar_pagebutton_txt_backgroundcolor').wpColorPicker(); });</script>   <p class='help'>Select the color for the button background</p></div></fieldset></div><div class='column is-'><fieldset id='fieldset_wico_annbar_pagebutton_txt_foregroundcolor' class='wico-fieldset'  > <div class='field'>   <label class='label wico-label'>Text Button Color</label>   <div class='control'>       <input class='input' type='text' placeholder='' id='wico_annbar_pagebutton_txt_foregroundcolor'  value='<?php echo($topbarButtonFgColor); ?>' >    </div><script>jQuery(document).ready(function (){ jQuery('#wico_annbar_pagebutton_txt_foregroundcolor').wpColorPicker(); });</script>   <p class='help'>Select the color for the button Text</p></div></fieldset></div><div class='column is-'><fieldset id='fieldset_wico_annbar_pagebutton_txt_bordercolor' class='wico-fieldset' <?php    if ($wico_annbar_premium_enabled_main == 0) {        echo('disabled');    }?> > <div class='field'>   <label class='label wico-label'>Border Button Color</label><?php    if ($wico_annbar_premium_enabled_main == 0) {        $params = [];        $params['onclick_open_modal_id'] = 1;        $params['modal_id'] = 'wico_annbar_modal_premium';        echo( wico_annbar_wicore_business_common_show_premium_icon_near_label( $params ) );    }?>   <div class='control'>       <input class='input' type='text' placeholder='' id='wico_annbar_pagebutton_txt_bordercolor'  value='<?php echo($topbarButtonBorderColor); ?>' >    </div><script>jQuery(document).ready(function (){ jQuery('#wico_annbar_pagebutton_txt_bordercolor').wpColorPicker(); });</script>   <p class='help'>Select the color for the button border.</p></div></fieldset></div></div><fieldset id='fieldset_wico_annbar_pagebutton_txt_text' class='wico-fieldset'  > <div class='field'>   <label class='label wico-label'>Button Text</label>   <div class='control'>       <input class='input' type='text' placeholder='Type here the text for the action button' id='wico_annbar_pagebutton_txt_text'  value='<?php echo($topbarButtonText); ?>' >    </div>   <p class='help'>This is the text the will be shown in the button</p></div></fieldset><fieldset id='fieldset_wico_annbar_pagebutton_txt_link' class='wico-fieldset'  > <div class='field'>   <label class='label wico-label'>Url to Navigate on Click</label>   <div class='control'>       <input class='input' type='text' placeholder='http://...' id='wico_annbar_pagebutton_txt_link'  value='<?php echo($topbarButtonUrl); ?>' >    </div>   <p class='help'>The link where the visitior will be taken on button click event</p></div></fieldset></div><div class='column is-4'></div></div><div class='columns '  style='display:none;'  id='cols_pages' > <div class='column is-8'><fieldset id='fieldset_wico_annbar_pagepages_ddl_show' class='wico-fieldset'  > <div class='field'>   <label class='label wico-label'>Where to display Announcement Bar?</label>   <div class='control'>       <select class='input wico-select' id='wico_annbar_pagepages_ddl_show'>           <option value='home' <?php if ($topbarShowOnPages == 'home') { echo(' selected '); } ?>>Only on Homepage</option>           <option value='all' <?php if ($topbarShowOnPages == 'all') { echo(' selected '); } ?>>On every page</option>           <option value='specific' <?php if ($topbarShowOnPages == 'specific') { echo(' selected '); } ?>>Only on the following specified pages</option>       </select>   </div></div></fieldset><fieldset id='fieldset_wico_annbar_pagepages_txt_urls' class='wico-fieldset' <?php    if ($wico_annbar_premium_enabled_main == 0) {        echo('disabled');    }?> > <div class='field'>   <label class='label wico-label'>Specify pages where to show Announcement Bar</label><?php    if ($wico_annbar_premium_enabled_main == 0) {        $params = [];        $params['onclick_open_modal_id'] = 1;        $params['modal_id'] = 'wico_annbar_modal_premium';        echo( wico_annbar_wicore_business_common_show_premium_icon_near_label( $params ) );    }?>   <div class='control'>       <textarea class='input' placeholder='' id='wico_annbar_pagepages_txt_urls' style='height:150px'><?php echo(trim($topbarShowOnPagesList)); ?></textarea>   </div>   <p class='help'>List of urls, one per line, for example https://mysite.com/page1. Use SHIFT+ENTER to go to a new line.</p></div></fieldset></div><div class='column is-4'></div></div><div class='columns '  style='display:none;'  id='cols_styles' > <div class='column is-8'><div class='columns '  id='' > <div class='column is-'><fieldset id='fieldset_wico_annbar_pagestyles_txt_paddingtop' class='wico-fieldset' <?php    if ($wico_annbar_premium_enabled_main == 0) {        echo('disabled');    }?> > <div class='field'>   <label class='label wico-label'>Top Padding</label><?php    if ($wico_annbar_premium_enabled_main == 0) {        $params = [];        $params['onclick_open_modal_id'] = 1;        $params['modal_id'] = 'wico_annbar_modal_premium';        echo( wico_annbar_wicore_business_common_show_premium_icon_near_label( $params ) );    }?>   <div class='control'>       <input class='input' type='text' placeholder='Type the top margin or leave blank' id='wico_annbar_pagestyles_txt_paddingtop'  value='<?php echo($topbarStylePaddingTop); ?>' >    </div>   <p class='help'>The space between bar content and top border, for example '20px'</p></div></fieldset></div><div class='column is-'><fieldset id='fieldset_wico_annbar_pagestyles_txt_paddingbottom' class='wico-fieldset' <?php    if ($wico_annbar_premium_enabled_main == 0) {        echo('disabled');    }?> > <div class='field'>   <label class='label wico-label'>Bottom Padding</label><?php    if ($wico_annbar_premium_enabled_main == 0) {        $params = [];        $params['onclick_open_modal_id'] = 1;        $params['modal_id'] = 'wico_annbar_modal_premium';        echo( wico_annbar_wicore_business_common_show_premium_icon_near_label( $params ) );    }?>   <div class='control'>       <input class='input' type='text' placeholder='Type the bottom margin or leave blank' id='wico_annbar_pagestyles_txt_paddingbottom'  value='<?php echo($topbarStylePaddingBottom); ?>' >    </div>   <p class='help'>The space between bar content and bottom border, for example '20px'</p></div></fieldset></div><div class='column is-'><fieldset id='fieldset_wico_annbar_pagestyles_txt_fontsize' class='wico-fieldset' <?php    if ($wico_annbar_premium_enabled_main == 0) {        echo('disabled');    }?> > <div class='field'>   <label class='label wico-label'>Font Size</label><?php    if ($wico_annbar_premium_enabled_main == 0) {        $params = [];        $params['onclick_open_modal_id'] = 1;        $params['modal_id'] = 'wico_annbar_modal_premium';        echo( wico_annbar_wicore_business_common_show_premium_icon_near_label( $params ) );    }?>   <div class='control'>       <input class='input' type='text' placeholder='The size of the font use in the bar text' id='wico_annbar_pagestyles_txt_fontsize'  value='<?php echo($topbarStyleFontSize); ?>' >    </div>   <p class='help'>For example '90%', or 18px</p></div></fieldset></div><div class='column is-'><fieldset id='fieldset_wico_annbar_pagestyles_txt_fontface' class='wico-fieldset' <?php    if ($wico_annbar_premium_enabled_main == 0) {        echo('disabled');    }?> > <div class='field'>   <label class='label wico-label'>Font Family Name</label><?php    if ($wico_annbar_premium_enabled_main == 0) {        $params = [];        $params['onclick_open_modal_id'] = 1;        $params['modal_id'] = 'wico_annbar_modal_premium';        echo( wico_annbar_wicore_business_common_show_premium_icon_near_label( $params ) );    }?>   <div class='control'>       <input class='input' type='text' placeholder='The name of the font to be used in the top bar' id='wico_annbar_pagestyles_txt_fontface'  value='<?php echo($topbarStyleFontFace); ?>' >    </div>   <p class='help'>For example 'Tahoma' or 'Roboto'</p></div></fieldset></div></div></div><div class='column is-4'></div></div><div class='columns '  style='display:none;'  id='cols_css' > <div class='column is-8'><fieldset id='fieldset_wico_annbar_pagecss_txt_css' class='wico-fieldset' <?php    if ($wico_annbar_premium_enabled_main == 0) {        echo('disabled');    }?> > <div class='field'>   <label class='label wico-label'>Add your custom CSS override in the box below</label><?php    if ($wico_annbar_premium_enabled_main == 0) {        $params = [];        $params['onclick_open_modal_id'] = 1;        $params['modal_id'] = 'wico_annbar_modal_premium';        echo( wico_annbar_wicore_business_common_show_premium_icon_near_label( $params ) );    }?>   <div class='control'>       <textarea class='input' placeholder='' id='wico_annbar_pagecss_txt_css' style='height:150px'><?php echo(trim($topbarCustomCss)); ?></textarea>   </div>   <p class='help'>The above css content will be injected in the pages where the top bar is displayed.</p></div></fieldset><article class="message is-info">
    <div class="message-body">
        Use the following CSS classes to override graphical elements: <strong>.wico-annbar-topbar-box</strong>, <strong>.wico-annbar-topbar-text</strong>,<strong>.wico-annbar-topbar-button</strong>, <strong>.wico-annbar-topbar-closeicon</strong>
<br>
<br>
For example, the below CSS would force the bar box to be 100px high:
<br>
<br>
.wico-annbar-topbar-box { height: 100px !important }
    </div>
</article></div></div><div class='columns '  id='' > <div class='column is-12'><div class='wico-spacer-50'></div><button class='wico-button button is-success'  onclick='wico_annbar_pagemain_btn_save_settings_click()'   id='wico_annbar_pagemain_btn_save_settings' > <img src='<?php echo(wico_annbar_consts_pluginUrl); ?>//wicore//images//icon-save.png' class='wico-button-icon' /> <span>Save Settings</span></button></div></div><div class="modal" id="wico_annbar_modal_premium">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head">
            <p class="modal-card-title">Unlock Premium Features!</p>
            <button class="delete" aria-label="close"  onclick="wico_annbar_closeModal({'id':'wico_annbar_modal_premium'});"  ></button>
        </header>
        <section class="modal-card-body">
            Get the full set of features and functions that will allow you to easily create and customize your Announcements Top bar. The Premium version includes:
<br />
<br />
<ul>
    <li><i class="fa fa-check wico wico-check-green-icon"></i>Allow users to close the bar with a close icon</li>
    <li><i class="fa fa-check wico wico-check-green-icon"></i>Specify the pages you want to show Announcement Bar</li>
    <li><i class="fa fa-check wico wico-check-green-icon"></i>Adjust CTA button border color</li>
    <li><i class="fa fa-check wico wico-check-green-icon"></i>Set top and bottom padding space</li>
    <li><i class="fa fa-check wico wico-check-green-icon"></i>Adjust font size and font family to match your theme</li>
    <li><i class="fa fa-check wico wico-check-green-icon"></i>Inject custom css in Announcement Bar classes to have full control!</li>
</ul>
<br />
<br />
Click on the button below to unlock these functions!
        </section>
        <footer class="modal-card-foot">
            <!--<button class="wico-button button is-success">Give me Premium!</button>
            <button class="wico-button button"  onclick="wico_annbar_closeModal({'id':'wico_annbar_modal_premium'});"  >No, thanks</button>-->
            <button class='wico-button button is-success'  onclick='wico_annbar_modal_premium_save_button_click()'   id='wico_annbar_modal_premium_save_button' > <span class='icon is-small'><i class='fas fa-crown wico-crown-icon-on-button' aria-hidden='true'></i></span> <span>Get Premium!</span></button>
        </footer>
    </div>
</div>
</div>
